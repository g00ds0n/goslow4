function preload(){stopCapture(),$("#intro .start-button button").show().bind("click",ready)}function recording(t){$("#recording .count").html(t),$("#ready").animate({top:"-="+$(window).height()+"px"},1500),$("#recording").animate({top:"-="+$(window).height()+"px"},1e3,function(){startCapture(),$("#recording .count").fadeOut(900),t--;var e=setInterval(function(){$("#recording .count").html(t).show().fadeOut(900),t--,-1==t&&(clearInterval(e),setTimeout(function(){stopCapture(),done(get_last())},1e3))},1e3)})}function done(t){$("#recording").animate({top:"-="+$(window).height()+"px"},2e3),$("#done").animate({top:"-="+$(window).height()+"px"},1e3,function(){$("#done .status").html(t),videojs("#replay_video").ready(function(){var e=this;e.src({src:t,type:"video/mp4"})})})}function done1(){next_page("done"),goslow.repeat>0&&1!=goslow.test_mode?($("#done").append('<video id="gopro_playback" autoplay class="video-js vjs-default-skin" width="640" height="356"></video>'),videojs("gopro_playback").ready(function(){var t=get_last(),e=t.substr(t.lastIndexOf(".")+1),o=goslow.repeat,n=this;n.volume(1).src({src:t,type:"video/mp4"}).pause().on("loadstart",function(){$("#playback_text").text("Getting your video...")}).on("progress",function(){var t=this.bufferedPercent();if("MP4"==e){var o=Math.floor(this.duration()*t);o>=this.currentTime()&&1>t&&this.currentTime(o)}$("#percent").text(Math.floor(100*t)+"%")}).on("loadedalldata",function(){setTimeout(function(){$("#playback_text").text("Here's your video!"),$("#percent").text("")},500),this.currentTime(0),setTimeout(function(){n.play(),setTimeout(function(){$("html").fadeOut(1e3,function(){location.reload()})},1e3*(goslow.repeat*goslow.record_timer+2*goslow.record_timer))},1e3)}).on("ended",function(){if(o--,o>0){if(1==o&&goslow.playback_slowmo){$("#playback_text").text("Slow motion");var t=document.getElementById($("#gopro_playback video").attr("id"));t.playbackRate=.5}this.play()}else setTimeout(function(){$("body").fadeOut(1e3,function(){location.reload()})},1e3)}).on("error",function(t,e,o){var n=videojs("gopro_playback");$("#done > video").remove(),n.dispose(),goslow.playback_text="Sorry, there was an <span class='text-danger'>error</span> trying to playback your video.",skipPlayback()})})):goslow.repeat>0&&1==goslow.test_mode?($("#done").append('<img width="640" height="356" src="goslow.png">'),$("#playback_text").text("Test Mode: No Playback"),setTimeout(function(){$("html").fadeOut(1e3,function(){location.reload()})},5e3)):skipPlayback()}function skipPlayback(){$("#playback_text").html(goslow.playback_text),$("#percent").text(""),setTimeout(function(){$("body").fadeOut(1e3,function(){location.reload()})},9e3)}$(document).ready(function(){var t=0;for(var e in goslow.choices){var o=goslow.choices[e];$("#intro .button-template button").clone().appendTo("#intro .start-button").html(o.title).addClass("btn-"+o.btn).attr("data-choice",e),t++}$("#intro .start-button button").width($(window).width()/t),preload(),$(document).bind("touchmove",function(t){t.preventDefault()}),$("#ready i").addClass("fa-arrow-circle-"+goslow.direction),$(".waiting").css("top",$(window).height()),$(".full-page-wrapper").height($(window).height()).width($(window).width()),$(".full-page").each(function(){var t=($(window).height()-$(this).height())/2;$(this).css({top:t+"px",position:"absolute"})})});var ready=function(){var t=goslow.choices[$(this).data("choice")];$("#ready .mode").addClass("btn-"+t.btn).html(t.title),mode(t.mode),resolution(t.resolution),frameRate(t.fps),fov(t.fov),$("#intro .start-button button").unbind(),$(this).removeClass("btn-"+t.btn).addClass("btn-danger"),$("#intro").animate({top:"-="+($(window).height()+5)+"px"},3e3),$("#ready").animate({top:"-="+($(window).height()+5)+"px"},2e3,function(){$("#ready .arrow").animateRotate(360,1500,function(){setTimeout(function(){$("#ready .arrow").animate({opacity:0},900,function(){$("#ready .count").css("opacity",0).html("J"),$("#ready .arrow").hide()}),$("#ready .lead").fadeOut(function(){$(this).html("Get Ready!").fadeIn()});var e=4,o=setInterval(function(){$("#ready .count").css("opacity",0).html(e).css("opacity",1).animate({opacity:0},900),e--,0==e&&(clearInterval(o),setTimeout(function(){recording(t.count)},1e3))},1e3)},1e3)})})};
//# sourceMappingURL=./goslow-min.js.map